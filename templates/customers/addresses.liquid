<div class="container my-5">
    <h1 class="lead">I miei indirizzi</h1>
    <button class="btn btn-primary rounded-0" data-bs-target="#newAddressModal" data-bs-toggle="modal">Aggiungi un nuovo indirizzo</button>
    <div class="row row-cols-md-4 row-cols-1 my-5 gx-2">

        {% for address in customer.addresses %}
            <div class="col">
                <div class="card rounded-0">
                    <div class="card-body">
                        {{address | format_address}}
                    </div>
                    <div class="card-footer">
                        <form action="/account/addresses/{{ address.id }}" data-confirm-message="Delete Address" method="post">
                            <input name="_method" type="hidden" value="delete">
                            <button class="btn btn-danger">Cancella</button>
                        </form>
                    </div>
                </div>
            </div>
        {% endfor %}

    </div>
</div>

<div aria-hidden="true" aria-labelledby="newAddressModalLabel" class="modal fade" id="newAddressModal" tabomdex="1">
    {% form 'customer_address', customer.new_address%}
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="newAddressModalLabel">Aggiungi un nuovo indirizzo</h5>
                    <button aria-label="Chiudi" class="btn-close" data-bs-dismiss="modal" type="button"></button>
                </div>
                <div class="modal-body">
                    <div class="col-12 mb-3">
                        <label class="form-label" for="AddressFirstNameNew">Nome</label>
                        <input id="AddressFirstNameNew" type="text" name="address[first_name]" value="{{ form.first_name }}" class="form-control">
                    </div>
                    <div class="col-12 mb-3">
                        <label class="form-label" for="AddressLastNameNew">Cognome</label>
                        <input id="AddressLastNameNew" type="text" name="address[last_name]" value="{{ form.last_name }}" class="form-control">
                    </div>
                    <div class="col-12 mb-3">
                        <label class="form-label" for="AddressCompanyNew">Azienda</label>
                        <input id="AddressCompanyNew" type="text" name="address[company]" value="{{ form.company }}" class="form-control">
                    </div>
                    <div class="col-12 mb-3">
                        <label class="form-label" for="AddressAddress1New">Indirizzo</label>
                        <input id="AddressAddress1New" type="text" name="address[address1]" value="{{ form.address1 }}" class="form-control">
                    </div>
                    <div class="col-12 mb-3">
                        <label class="form-label" for="AddressAddress2New">Appartamento</label>
                        <input id="AddressAddress2New" type="text" name="address[address2]" value="{{ form.address2 }}" class="form-control">
                    </div>
                    <div class="row mb-3">
                        <div class="col-12 col-md-4 mb-3">
                            <label class="form-label" for="AddressCityNew">Citta`</label>
                            <input id="AddressCityNew" type="text" name="address[city]" value="{{ form.city }}" class="form-control">
                        </div>
                        <div class="col-12 col-md-4 mb-3">
                            <label class="form-label" for="AddressCountryNew">Stato</label>
                            <select class="form-control" id="AddressCountryNew" name="address[country]">{{ all_country_option_tags }}</select>
                        </div>
                        <div class="col-12 col-md-4 mb-3">
                            <label class="form-label" for="AddressProvinceNew">Provincia</label>
                            <select class="form-control" disabled="disabled" id="AddressProvinceNew" name="address[province]"></select>
                        </div>
                    </div>

                    <div class="col-12 mb-3">
                        <label class="form-label" for="AddressZipNew">CAP</label>
                        <input id="AddressZipNew" type="text" name="address[zip]" value="{{ form.zip }}" class="form-control">
                    </div>
                    <div class="col-12 mb-3">
                        <label class="form-label" for="AddressPhoneNew">Numero di telefono</label>
                        <input id="AddressPhoneNew" type="text" name="address[phone]" value="{{ form.phone }}" class="form-control">
                    </div>
                </div>
                <div class="modal-footer"></div>
            </div>
        </div>
    {% endform %}
</div>